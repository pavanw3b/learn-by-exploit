DROP TABLE IF EXISTS `victim_user`;


CREATE TABLE IF NOT EXISTS `victim_user`(
	user_id INT AUTO_INCREMENT,
	full_name VARCHAR(40) NOT NULL,
	email VARCHAR(50) NOT NULL,
	password VARCHAR(40) NOT NULL,
	phone VARCHAR(15) NOT NULL,
	PRIMARY KEY(user_id)
);

INSERT INTO `victim_user`(`full_name`, `email`, `password`, `phone`) VALUES('Master Foo', 'foo@example.com', 'password@123', '0123456789');
INSERT INTO `victim_user`(`full_name`, `email`, `password`, `phone`) VALUES('Master Bar', 'bar@example.com', 'password@000', '9876543210');

CREATE TABLE IF NOT EXISTS `user` (
  user_id INT AUTO_INCREMENT,
  first_name VARCHAR(30) NOT NULL,
  last_name VARCHAR(30) NOT NULL,
  email_address VARCHAR(50) NOT NULL,
  password VARCHAR(40) NOT NULL,
  status ENUM('NEW', 'VERIFIED', 'INACTIVE'),
  PRIMARY KEY (user_id)
)ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=100;


CREATE TABLE IF NOT EXISTS `user_account` (
  account_id INT AUTO_INCREMENT,
  balance FLOAT(30, 2) NOT NULL,
  user_id INT NOT NULL,
  PRIMARY KEY (account_ID),
  FOREIGN KEY (user_id) REFERENCES victim_user()
)ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=1000;


CREATE TABLE IF NOT EXISTS `user_session` (
  session_id INT AUTO_INCREMENT,
  user_id INT NOT NULL,
  PRIMARY KEY (account_ID),
  FOREIGN KEY (user_id) REFERENCES victim_user()
)ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=1000;


CREATE TABLE IF NOT EXISTS `transaction`(
	transaction_id INT AUTO_INCREMENT,
	amount FLOT NOT NULL,
	from_user_id INT NOT NULL,
	to_user_id INT NOT NULL,
	PRIMARY KEY (user_id),
	FOREIGN KEY (from_user_id) REFERENCES victim_user(user_id),
	FOREIGN KEY (from_user_id) REFERENCES victim_user(user_id),
)ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=90000;

